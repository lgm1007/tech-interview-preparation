## Redis 분산락
- Redis는 key-value 구조의 비정형 데이터를 저장하고 관리하기 위한 오픈 소스 기반의 **비 관계형 인메모리** DBMS이다.
- Redis는 싱글 스레드로 실행되는 특성이 있어, 동시성 문제를 해결하는 데 많이 사용한다.

### 분산락이란?
- 다수의 서버 또는 프로세스가 동시에 같은 자원에 접근할 때 발생할 수 있는 동시성 문제를 해결하기 위해 사용되는 동기화 메커니즘
  - **하나의 자원에 대해서는 하나의 서버만 작업을 수행할 수 있도록**

### Lettuce
- `Netty` 기반의 Redis 클라이언트로, 요청을 논블로킹 방식으로 처리하기 때문에 높은 성능을 가진다.
- `Setnx` 명령어를 이용한 스핀락 (Spin Lock) 형태로 구현되어 있다.
  - 스핀락은 Lock 획득을 실패하면 일정 시간/횟수 동안 Lock 획득을 재시도하는 방식이다.
  - 지속적인 재시도로 네트워크 비용이 계속 발생할 수 있고, 서버에서 장애가 발생한 경우 무한 대기에 빠질 위험도 있다.

### Redisson
- Redis의 Pub/Sub 기능을 제공하여, 이를 사용하여 분산락을 구현할 수 있는 Redis 클라이언트이다.
- Pub/Sub 방식은 Lock 획득을 실패하면 구독하고, 차례가 될 때까지 Lock 획득 이벤트를 기다린다. 구독중인 구독자들 중 먼저 선점한 작업만 Lock 해제가 가능하므로 안정적이며 원자적인 처리가 가능하다는 장점이 있다.
