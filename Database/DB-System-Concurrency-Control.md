## DB 시스템에서 동시성을 제어하는 방법
### MVCC (Multi-Version Concurrency Control)
* 데이터의 여러 버전을 유지하여 트랜잭션이 동시에 데이터를 읽고 쓸 수 있도록 하는 방법
  * 데이터의 각 버전을 유지하여 읽기 작업이 쓰기 작업과 독립적으로 이루어질 수 있다.
* 각 트랜잭션은 **자신만의 일관된 스냅샷**을 기반으로 데이터를 읽어, **다른 트랜잭션의 변경 사항에 영향을 받지 않는다.**
* 읽기 작업 시 **잠금(Lock) 을 사용하지 않아 높은 동시성**을 제공한다. (읽기 중심의 애플리케이션에서 우수한 성능)
* 읽기 작업 시 잠금을 사용하지 않으므로 쓰기 작업과의 충돌이 줄지만, 여러 버전의 데이터를 유지해야 하기 때문에 **저장 공간**이 더 많이 필요하다.
* 트랜잭션이 시작된 시점의 데이터 상태를 기반으로 읽기 작업을 수행하여 일관성 유지

### Lock-Based Concurrency Control
* 데이터에 접근할 때 **잠금**을 사용하여 동시성을 제어하는 방법
* 트랜잭션이 데이터를 읽거나 수정할 때 해당 데이터에 잠금을 걸어 다른 트랜잭션의 접근 제한
  * 즉 잠금을 통해 일관성과 무결성을 직접적으로 제어
* **읽기 작업은 공유 잠금**을, **쓰기 작업은 베타 잠금**을 사용
* 다수의 트랜잭션이 **동일한 데이터에 접근할 때 성능 저하 문제**가 발생할 수 있고, 잘못된 접근 순서나 설계로 인해 **교착 상태 (Deadlock)** 가 발생할 위험이 있다.

### 어떤 방법을 사용해야 할까?
* 특히 MySQL의 InnoDB 스토리지 엔진은 MVCC와 Lock-Based 방식의 장점을 결합하여 동시성 제어를 최적화한다.
* **읽기 트랜잭션**은 **MVCC**를 사용하여 일관된 스냅샷을 기반으로 데이터를 읽어, 잠금을 최소화하고 **높은 동시성**을 유지할 수 있다.
* **쓰기 트랜잭션**은 **잠금**을 사용하여 데이터의 **일관성과 무결성**을 유지하면서, **데이터 충돌을 방지**한다.
